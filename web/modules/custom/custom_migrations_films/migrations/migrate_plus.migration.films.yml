id: custom_films
label: 'Peliculas del sitio web'

source:
  plugin: csv
  path: 'public://migrations/films.csv'
  header_row_count: 1
  ids:
    - ID
  fields:
    -
      name: ID
      label: 'ID'
    -
      name: PUBLISHED
      label: 'PUBLISHED'
    -
      name: TITLE
      label: 'TITLE'
    -
      name: SINOPSIS
      label: 'SINOPSIS'
    -
      name: PUBLICACION
      label: 'PUBLICACION'

process:
  # CAMPOS DEL CONTENIDO
  type:
    plugin: default_value
    default_value: peliculas
  status: PUBLISHED
  # AÃ‘ADIDO POR EL WORKFLOW CREADO EN DRUPAL
  moderation_state:
    plugin: static_map
    source: published
    map:
      1: 'published'
      0: 'draft'
  path/pathauto:
    plugin: default_value
    default_value: 1
  uid:
    plugin: default_value
    default_value: 1
  title: TITLE
  'body/value': SINOPSIS
  field_categoria:
    plugin: migration_lookup
    migration: migrate_categorias
    source: CATEGORIA
    no_stub: true
  # CORREGIR LA FECHA PARA QUE SE EXPORTE CORRECTAMENTE
  field_publicacion_pelicula: PUBLICACION

destination:
  plugin: entity:node


